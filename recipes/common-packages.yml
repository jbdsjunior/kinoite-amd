modules:
  - type: rpm-ostree
    # -------------------------------------------------------------------------
    # SEÇÃO 1: REMOÇÕES (Debloat e Preparação para Swap)
    # -------------------------------------------------------------------------
    remove:
      # Navegador: Remove o Firefox RPM para usar a versão Flatpak (Padrão uBlue)
      - firefox
      - firefox-langpacks

      # Ferramentas: Remove o htop para usar alternativas (btop/nvtop)
      - htop

      # --- SWAP DE MULTIMÍDIA E DRIVERS ---
      # Removemos as versões "free" (limitadas por patentes) do Fedora/uBlue
      # para permitir a instalação das versões "freeworld" completas do RPM Fusion.
      - fdk-aac-free # Codec AAC limitado
      - libavcodec-free # Codecs de vídeo limitados
      - libavdevice-free
      - libavfilter-free
      - libavformat-free
      - libavutil-free
      - libpostproc-free
      - libswresample-free
      - libswscale-free
      - ffmpeg-free # FFmpeg limitado
      - mesa-va-drivers # Aceleração de vídeo limitada (AMD/Intel)

    # -------------------------------------------------------------------------
    # SEÇÃO 2: INSTALAÇÕES (O que falta na uBlue)
    # -------------------------------------------------------------------------
    install:
      # --- Essenciais do Sistema ---
      - langpacks-pt_BR # Traduções para Português
      - terra-release # Gerenciamento de chaves do repo Terra (Fyra)

      # Nota: 'distrobox' e 'just' JÁ VÊM na imagem uBlue, não precisa listar aqui.

      # --- Performance ---
      - system76-scheduler # Otimiza prioridade de CPU para apps em foco
      - zstd # Compressão rápida (Útil para manutenção)

      # --- Monitoramento (Substitutos do htop) ---
      - fastfetch # Info do sistema (estilo neofetch moderno)
      - nvtop # Monitor de uso de GPU e processos de vídeo
      - smartmontools # Monitoramento de saúde de SSD/HDD (S.M.A.R.T)

      # --- Codecs e Drivers "Freeworld" (A versão Turbo) ---
      # Só instalam porque removemos os conflitantes na seção 'remove' acima.
      - ffmpeg # Versão completa
      - ffmpeg-libs
      - fdk-aac # Codec AAC completo (Fraunhofer)
      - libavcodec-freeworld # Codecs extras
      - ffmpegthumbnailer # Miniaturas de vídeo rápidas

      # Aceleração de Hardware (Crítico para AMD/Intel)
      - mesa-va-drivers-freeworld
      - mesa-vdpau-drivers-freeworld

      # Áudio Bluetooth (AptX / AAC melhorado)
      - pipewire-codec-aptx
        # SE DER ERRO: Remova esta linha, pois o 'fdk-aac' acima já cobre.

      # --- Plugins GStreamer (Para compatibilidade GNOME/KDE) ---
      - gstreamer1-plugins-bad-free-extras
      - gstreamer1-plugins-bad-freeworld
      - gstreamer1-plugins-ugly
      - gstreamer1-vaapi
      - gstreamer1-plugin-openh264

      # --- Ferramentas Extras ---
      - rclone # Sincronização Cloud
      - unrar # Descompactar .rar
      - p7zip # Suporte 7z
      - p7zip-plugins
      - icoextract-thumbnailer # Ícones de arquivos .exe
      - libdvdcss # Leitura de DVDs protegidos

      # --- Fontes ---
      - rsms-inter-fonts
      - rsms-inter-vf-fonts
      - ms-core-fonts
